#
# Define basic display information
#
name     : Merge Metabolic Models into Community Model

tooltip  : |
    Merge two or more metabolic models into a compartmentalized community model.

screenshots :
    - merge_metabolic_models_into_community_model_input.png
    - merge_metabolic_models_into_community_model_output.png

#
# Define the set of other narrative methods that should be suggested to the user.
#
suggestions :
    apps:
        related :
            []
        next :
            []
    methods:
        related :
            []
        next :
            [compare_two_metabolic_models_generic, gapfill_a_metabolic_model]


#
# Configure the display and description of the parameters
#
parameters :
    fbamodel_id_list :
        ui-name : |
            FBA Models
        short-hint : |
            A list of metabolic models consisting of stoichiometric reactions, compounds, and the weighted components of  the biomass. Either one model set (see next input) or at least two individual models must be provided. Both inputs can be provided and will be merged into a single set of models.
        long-hint : |
            A list of metabolic models consisting of stoichiometric reactions, compounds, and the weighted components of  the biomass. Either one model set (see next input) or at least two individual models must be provided. Both inputs can be provided and will be merged into a single set of models.
        placeholder : |
            Model to be merged


    mixed_bag_model :
        ui-name : |
            Construct mixed-bag model?
        short-hint : |
            Rather than placing each model into its own compartment, check this box to combine all models into a single non-redundant model consolidated in a single cytosol compartment.
        long-hint : |
            Rather than placing each model into its own compartment, check this box to combine all models into a single non-redundant model consolidated in a single cytosol compartment.


    fbamodel_output_id :
        ui-name : |
            Community model
        short-hint : |
            Name of community model to be generated
        long-hint : |
            Name of community model to be generated
        placeholder : |
            Output community model ID


fixed-parameters :
    -
        ui-name : |
            Template Model
        description : |
            Models are generated based on a default template model in KBase. Template models capture the necessary biochemical information based on user-defined scope. For microbial models, KBase primarily uses two template models based on their Gram classification (Gram positive or Gram negative). These template models differ from each other by biomass composition and biochemical reaction functional associations. KBase users currently do not have the option to choose or alter the default template model.

icon: fba-teal.png

description : |
    <p>The method merges two or more metabolic models of individual organisms resulting in a compartmentalized joint model of a community of multiple organisms.</p>

    <p>Community models demonstrate how metagenomic data can be used to produce a compartmentalized model of a multi-species community. As with any FBA model, this compartmentalized model can then be optimized for generation of the community biomass. In the community model generated by this method all compounds and reactions in species 1, 2, etc. are localized into their own respective compartments labelled c1, c2, etc. Compounds transported out of any of the community members to the extracellular environment are labelled e0. Any member of the community having the transport reaction capable of importing these compounds is able to utilize these extracellular compounds.</p>

    <p>The community model is capable of predicting the community flux profiles, trophic interactions between the community members and overall community consumption and production of nutrients.</p>

    <p>This method primarily requires two input parameters: (i) the list of models IDs of individual organisms (ii) relative abundances (in the same order as model IDs) of each of those organisms in the community. The relative abundance values allow one to formulate the biomass composition for the entire community. Relative abundances need to be normalized to one. For example, a four species community with equal abundances of these species is represented by 0.25; 0.25; 0.25; 0.25 in the second input field.</p>

        <p><strong>Team members who developed & deployed algorithm in KBase:</strong> Chris Henry, Janaka Edirisinghe, Sam Seaver, and Neal Conrad. For questions, <a href="mailto:help@kbase.us">e-mail help@kbase.us</a></p>

publications :
    -
        display-text: |
            Arkin AP, Cottingham RW, Henry CS, Harris NL, Stevens RL, Maslov S, et al. KBase: The United States Department of Energy Systems Biology Knowledgebase. Nature Biotechnology. 2018;36: 566. doi: 10.1038/nbt.4163
        link: https://www.nature.com/articles/nbt.4163
