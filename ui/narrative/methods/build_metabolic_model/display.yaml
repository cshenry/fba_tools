#
# Define basic display information
#
name     : Build metabolic model

tooltip  : |
    Generate a draft metabolic model based on an annotated genome.

screenshots :

    - build_metabolic_model_input.png
    - build_metabolic_model_output.png


#
# Define the set of other narrative methods that should be suggested to the user.
#
suggestions :
    apps:
        related :
            []
        next :
            []
    methods:
        related :
            []
        next :
            [gapfill_metabolic_model,run_flux_balance_analysis]


#
# Configure the display and description of the parameters
#
parameters :
    expseries_id :
        ui-name : |
            Expression data set
        short-hint : |
            An imported ExpressionMatrix containing gene expression values, one condition (column) of which will be used to constrain reaction activity in FBA
        long-hint : |
            An imported ExpressionMatrix containing gene expression values, one condition (column) of which will be used to constrain reaction activity in FBA


    genome_id :
        ui-name : |
            Genome
        short-hint : |
            A genome with functional annotations generated by Kbase
        long-hint : |
            A genome with functional annotations generated by Kbase
        placeholder : |
            Genome ID for modeling


    minimum_target_flux :
        ui-name : |
            Minimum reaction flux
        short-hint : |
            The minimum flux that the target reaction will have when the gapfilling is performed
        long-hint : |
            The minimum flux that the target reaction will have when the gapfilling is performed


    media_supplement_list :
        ui-name : |
            Media supplement
        short-hint : |
            Specify additional compounds to add to media one at a time by using “add another media supplement” button
        long-hint : |
            Specify additional compounds to add to media one at a time by using “add another media supplement” button


    comprehensive_gapfill :
        ui-name : |
            Comprehensive Gapfill
        short-hint : |
            Check this box to activate as many reactions as possible, rather than just the biomass objective function
        long-hint : |
            Check this box to activate as many reactions as possible, rather than just the biomass objective function


    custom_bound_list :
        ui-name : |
            Custom flux bounds
        short-hint : |
            Custom bounds on reaction or exchange flux (e.g. 0;rxn00001;5, 0;cpd00001_e0;5)
        long-hint : |
            Custom bounds on reaction or exchange flux (e.g. 0;rxn00001;5, 0;cpd00001_e0;5)
        placeholder : |
            e.g. 0;rxn00001;5


    activation_coefficient :
        ui-name : |
            Activation coefficient
        short-hint : |
            What fraction of the optimal objective value should analyses like FVA, single gene knockout, and transcriptomic FBA be constrained at? Values between 0 and 1.
        long-hint : |
            What fraction of the optimal objective value should analyses like FVA, single gene knockout, and transcriptomic FBA be constrained at? Values between 0 and 1.


    exp_threshold_percentile :
        ui-name : |
            Expression threshold
        short-hint : |
            Reactions with expression values in the percentile above this threshold are considered ON; if below, they are considered OFF
        long-hint : |
            Reactions with expression values in the percentile above this threshold are considered ON; if below, they are considered OFF


    number_of_solutions :
        ui-name : |
            Number of solutions
        short-hint : |
            An integer indicating how many solutions should be generated by the gapfilling
        long-hint : |
            An integer indicating how many solutions should be generated by the gapfilling


    objective_fraction :
        ui-name : |
            Objective constraint
        short-hint : |
            What fraction of the optimal objective value should analyses like FVA, single gene knockout, and transcriptomic FBA be constrained at? Values between 0 and 1.
        long-hint : |
            What fraction of the optimal objective value should analyses like FVA, single gene knockout, and transcriptomic FBA be constrained at? Values between 0 and 1.


    media_id :
        ui-name : |
            Media
        short-hint : |
            Media specifies the set of chemical compounds organism can use for its growth. In this function, the media is used as the growth condition for gapfilling, if gapfilling is performed.
        long-hint : |
            Media specifies the set of chemical compounds organism can use for its growth. In this function, the media is used as the growth condition for gapfilling, if gapfilling is performed.
        placeholder : |
            Growth condition for gapfilling


    thermodynamic_constraints :
        ui-name : |
            Thermodynamic constraints?
        short-hint : |
            Check this box to enable the use of thermodynamic constraints to enforce the thermodynamic feasibility of all active reactions in the flux solution
        long-hint : |
            Check this box to enable the use of thermodynamic constraints to enforce the thermodynamic feasibility of all active reactions in the flux solution


    expression_condition :
        ui-name : |
            Expression condition
        short-hint : |
            Specific condition in expression matrix to which reaction activity in FBA should be fit
        long-hint : |
            Specific condition in expression matrix to which reaction activity in FBA should be fit


    gapfill_model :
        ui-name : |
            Gapfill model?
        short-hint : |
            Identify the minimal set of biochemical reactions to add to a draft metabolic model to enable it to produce biomass in a specified media.
        long-hint : |
            Identify the minimal set of biochemical reactions to add to a draft metabolic model to enable it to produce biomass in a specified media.


    fbamodel_output_id :
        ui-name : |
            Output model
        short-hint : |
            Enter a name for the metabolic model to be created
        long-hint : |
            Enter a name for the metabolic model to be created
        placeholder : |
            Output metabolic model name


    template_id :
        ui-name : |
            Template model
        short-hint : |
            Models are generated based on a default template model in KBase. Template models capture the necessary biochemical information based on user-defined scope. KBase primarily uses four template models: (i) Gram positive microbe, (ii) Gram negative microbe, (iii) Core pathways microbe, and (iv) Plant. These template models differ from each other by biomass composition and biochemical reaction functional associations.
        long-hint : |
            Models are generated based on a default template model in KBase. Template models capture the necessary biochemical information based on user-defined scope. KBase primarily uses four template models: (i) Gram positive microbe, (ii) Gram negative microbe, (iii) Core pathways microbe, and (iv) Plant. These template models differ from each other by biomass composition and biochemical reaction functional associations.
        placeholder : |
            Template model name


    exp_threshold_margin :
        ui-name : |
            Expression uncertainty
        short-hint : |
            Range of uncertainty for classification of reaction activity based on expression threshold
        long-hint : |
            Range of uncertainty for classification of reaction activity based on expression threshold


description : |

    <p>A draft metabolic model serves as an advanced starting point for subsequent curation and gapfilling.</p> 
    
    <p>A genome-scale metabolic network of chemical reactions occurring within a living organism is primarily reconstructed from protein functional annotations originally derived from literature and subsequently propagated from genome to genome by sequence similarity. When a genome is functionally annotated, its metabolic genes are mapped onto biochemical reactions. This information is integrated with data on reaction stoichiometry, subcellular localization, biomass composition, estimation of energy requirements (directionality of reactions), and other constraints into a detailed stoichiometric model of metabolism. This model can be subsequently used for detailed analysis of the metabolic potential of the organism using constraint-based modeling approaches such as Flux Balance Analysis (FBA).</p>
    
    <p>The model construction methodology in KBase is primarily based on the Model SEED framework (Henry et. al) and the RAST genome annotation pipeline (Overbeek et. al). Biochemistry data used in the model construction pipeline have been gathered from multiple published metabolic models and from public databases such as KEGG, MetaCyc, EcoCyc, Plant BioCyc, Plant Metabolic Networks, and Gramene. Currently, the biochemistry database in KBase includes more than 13,000 biochemical reactions and over 16,000 metabolic compounds. </p>
    
    <p>Once a draft model is generated, model accuracy can be improved by filling gaps in the metabolic network, known as the gapfilling process, and also through manual curation efforts. The gapfilling process (see <a data-method-id=Ògapfill_a_metabolic_modelÓ>Gapfill Metabolic Model</a>) involves adding a minimal number of reactions and compounds to make the biochemical network capable of generating biomass. This "gapfilled" version of the model can be further improved by reconciling phenotypic experimental growth data generated on different media conditions (see <a data-method-id=Òsimulate_growth_on_a_phenotype_setÓ>Simulate Growth on Phenotype Set</a>). The resulting metabolic model could be used to perform Flux Balance Analysis (see <a data-method-id=Òrun_flux_balance_analysisÓ>Run Flux Balance Analysis</a>) on a given media condition, predicting flux distributions for all biochemical reactions in the network.</p>
    
    <p><strong>Team members who developed & deployed algorithm in KBase:</strong>
    Chris Henry, Janaka Edirisinghe, Sam Seaver, Neal Conrad. For questions, <a href="mailto:help@kbase.us">e-mail help@kbase.us</a></p>

publications :
    -
        pmid: 20802497
        display-text: |
            Henry CS, DeJongh M, Best AA, Frybarger PM, Linsay B, et al. (2010) High-throughput generation, optimization and analysis of genome-scale metabolic models. Nat Biotechnol 28: 977-982. doi:10.1038/nbt.1672.
        link: http://www.ncbi.nlm.nih.gov/pubmed/20802497
    -
        display-text: |
            Overbeek R, Olson R, Pusch GD, Olsen GJ, Davis JJ, et al. (2014) The SEED and the Rapid Annotation of microbial genomes using Subsystems Technology (RAST). Nucleic Acids Res 42: D206-D214. doi:10.1093/nar/gkt1226.
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3965101/
    -
        pmid: 21993642
        display-text: |
            Baart GJ and Martens DE (2012) Genome-scale metabolic models: reconstruction and analysis. Methods Mol Biol. 799: 107-26. doi:10.1007/978-1-61779-346-2_7.
        link: http://www.ncbi.nlm.nih.gov/pubmed/21993642

